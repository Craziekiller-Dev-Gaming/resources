<!DOCTYPE html>
<html>

<head>
  <meta charset='utf-8'>
  <meta http-equiv='X-UA-Compatible' content='IE=edge'>
  <title>Trading Cards</title>
  <meta name='viewport' content='width=device-width, initial-scale=1'>
  <link rel='stylesheet' type='text/css' href='https://fonts.googleapis.com/css?family=Heebo:100,300,400,500,700,800,900'>
  <link rel="stylesheet" type="text/css" href="css/style.css">
  <script src="https://cdn.tailwindcss.com"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.10.4/gsap.min.js"></script>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css" integrity="sha512-DTOQO9RWCH3ppGqcWaEA1BIZOC6xxalwEsw9c2QQeAIftl+Vegovlnee1c9QX4TctnWMn13TZye+giMm8e2LwA==" crossorigin="anonymous" referrerpolicy="no-referrer" />
  <script src="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/js/all.min.js" integrity="sha512-GWzVrcGlo0TxTRvz9ttioyYJ+Wwk9Ck0G81D+eO63BaqHaJ3YZX9wuqjwgfcV/MrB2PhaVX9DkYVhbFpStnqpQ==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
  <script src='js/fontawesome.min.js'></script>
  <script src='js/jquery-3.6.0.min.js'></script>
  <script src="js/vue.min.js"></script>
  <script>
    tailwind.config = {
      theme: {
        extend: {
          colors: {
            clifford: '#da373d',
          }
        }
      }
    }
  </script>
</head>

<body>

  <style class="hover"></style>
  <div id="app"></div>


  <!-- App Template -->
  <script type="text/x-template" id="app_template">
      <div class="main-cont">
        <section class="cards" id="cards-container">
      
          <test_cards ref="card"
            v-for="(card, index) in cards"
                :rank="card.rank"
                :withCase="card.withCase"
                :label="card.label"
                :health="card.health"
                :height="card.height"
                :weight="card.weight"
                :images="card.images"
                :description="card.description"
                :term="card.term"
                :attack="card.attack"
                :colors="card.colors"
                :isFliped="card.isFliped"
                :rating="card.rating"
                :key="card"
                :index="index"
                >
            </test_cards>
        </section>

        <!-- container for card Animation -->

        <div class="quasarCardContainer" v-show="isShowAnimation" @click="toggleShow" :style="cardInlineImages">                                        <!-- Hola, aquí Conor. Lo siento mucho por el mensaje tan malo que envié sobre el retraso. No quería ofenderte. Dejo esta nota aquí porque no tengo cómo contactarte, pero quiero que sepas que no quiero que te sientas perjudicado. Por eso estoy haciendo todo lo posible para que todo se vea lo mejor posible, incluso si tengo que quedarme sin dormir. Intentaré recuperar tu confianza. <3-->
          <div class="quasarPositionCenter">
          <div class="cardMiniContainer">
          <div class="opentheCardClikerWithoutPosition"></div>
        <div id="flipCardingRotate" clas="cardClicker">
          <div id="frontOfCard">
            <div class="cardTest">
              <div >
                <div>
                  <div>
                    <div>
                      <div>
                        <div>
                          <div>
                            <div>
                              <div class="openTheCard "></div>
                            </div>
                          </div>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
          <div id='backCard'>
            <div>
              <div>
                <div>
                  <div>
                    <div>
                      <div>
                        <div>
                          <div >
                            <div >
                              <div></div>
                            </div>
                          </div>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
        
      
      <div id='cardDownContainer'>
        <div id='top'></div>
      </div>
      </div>
      </div>
      <section class="text-guide-open">
        <h1>{{ buttonText.openGuide }}</h1>
      </section>
    </div>

        <!-- <div class="container_for_card" v-show="isShowAnimation" @click="toggleShow" style="display:flex;">
     
          <div class="card_container">
     
            <div class="cardUp" style="z-index:555"></div>
                 <div class="shine" id="shine"></div>
  
              <div class="cardDown"></div>
              <h2>Take up the card from left</h2>
          </div>
  
      </div> -->

      <!-- end container for Card Animation -->

        <section class="buttons" id="buttons-open">
          <!-- <button v-if="displayOpenAnother" @click="openAnother" class="next-cards">Next Cards</button> -->
          <button class="buttons-open-openInventory" v-if="displayOpenInventory" @click="openInventory">{{ buttonText.openInventory }}</button>
          <button class="buttons-open-closeInventory" v-if="displayClose" @click="close">{{ buttonText.close }}</button>
        </section>
        <section class='w-full h-full absolute inset-0 flex items-center justify-center' v-if="showInventory">
          <inventory :items='items'/>
        </section>
      </div>
    </script>

  <!-- Cards Template -->
  <script type="text/x-template" id="cards_template">
    <!-- <button @click="showMore">Show More</button> -->
  <div class="flip-cont" @click="flipCard" :class="{ fliped: isFliped, 'with-case': withCase, inventoryItem: isInventoryItem }" @mouseout="mouseOut">
    <div class="flip-card"></div>
    <div class="card-cont">
      <div class="case-cont" :class="{'case-cont-box-shadow': withCase}">
        <div class="tag-comp" style="color: #333" v-if="withCase">


          <div class="flexConorLastCards">
            <div class="flexConorColumnEnd">
              <div> {{ rank }}</div>
              <div id="flexConorColumnEnd-label">{{ label }}</div>
            </div>
            <div class="flexConorRatingLast">
              {{ rating }}
            </div>
          </div>

        </div>
        <div class="card" :style="inlineCSS" :class="{shining: isShining, sparkles: isSparkles, legendary: isLegendary, rare: isRare, basic: isBasic}">
          <div class="card-items" :style="backgroundCSS">
            <div class="ct-head">

              <div style="margin-bottom: 5px;">
                <div>
                  <p class="text_cabinet">{{ rank }}</p>
                </div>
                <h3 class="title_pokemon">{{ label }}</h3>

              </div>
            </div>
            <div class="ct-banner" v-html="images2">

            </div>
            <div class="ct-content">

              <div class="flex_conor">

                <div class="first_col_icons flex_conor">

                  <div class="health_col flex_conor">
                    <h3>{{ health }}</h3>
                    <div class="all_icon hearthIcon"></div>
                  </div>

                  <div class="sword_col flex_conor">
                    <h3>{{ attack }}</h3>
                    <div class="all_icon swordIcon"></div>
                  </div>
                </div>
                <div class="second_col_icon  flex_conor">
                  <div class="height_text">{{ height }}</div>
                  <div class="all_icon heightIcon"></div>
                  <div class="weight_text">{{ weight }}</div>
                  <div class="all_icon weight"></div>
                </div>

              </div>
              <div class="sub-content">
                <h2>{{ term }}</h2>
                {{ description }}
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
  </script>

  <script type="text/x-template" id="context_menu">
    <div class='fixed z-50 context-menu' :style="{ top: y + 'px', left: x + 'px' }">
      <div
        v-for="action in actions"
        :key="action.action"
        @click="emitAction(action.action)"
      >
      {{ action.label }}
      </div>
    </div>
  </script>

  <script type="text/x-template" id="inventory_template">
    <section>
      <div class='albumCustomPresetForCard w-[75rem] h-[45rem] relative inset-0 flex z-[9999999]'>
        <img class='absolute inset-0 w-full h-full -z-10' src='./img/album.png'/>
        <ul class='grid grid-cols-3 gap-y-2 gap-x-4 px-9 py-12 w-1/2'>
          <li class='w-[10.23rem] h-[11.5rem]' v-for='index in getRange("first")' :key='index' @contextmenu.prevent="showContextMenu($event, getItem(index))">
            <div class='backForCardsPhoto w-full h-full rounded-lg shadow-xl relative'>
              <img src='./img/only.png' class='w-full h-full rounded-lg absolute -z-10 inset-0'/>
              <test_cards v-if='getItem(index) !== undefined'
                :rank="getItem(index).card.rank"
                :withCase="getItem(index).card.withCase"
                :label="getItem(index).card.label"
                :health="getItem(index).card.health"
                :images="getItem(index).card.images"
                :description="getItem(index).card.description"
                :term="getItem(index).card.term"
                :attack="getItem(index).card.attack"
                :colors="getItem(index).card.colors"
                :isFliped="true"
                :key="getItem(index).slot"
                :isInventoryItem="true"
                :index="getItem(index).slot"
                >
              </test_cards>
              <div class="overlay" @click="closeContextMenu" v-if="showMenu" />
              <ContextMenu 
              v-if="showMenu"
              :actions="contextMenuActions"
              @action-clicked="handleActionClick"
              :x="menuX"
              :y="menuY"
       />
            </div>
          </li>
        </ul>
        <ul class='grid grid-cols-3 gap-y-2 gap-x-4 px-9 py-12 w-1/2'>
          <li class='w-[10.23rem] h-[11.5rem]' v-for='index in getRange("second")' :key='index' @contextmenu.prevent="showContextMenu($event, getItem(index))">
            <div class='backForCardsPhoto w-full h-full rounded-lg shadow-xl relative'>
              <img src='./img/only.png' class='w-full h-full rounded-lg absolute -z-10 inset-0'/>
              <test_cards v-if='getItem(index) !== undefined' 
                :rank="getItem(index).card.rank"
                :withCase="getItem(index).card.withCase"
                :label="getItem(index).card.label"
                :health="getItem(index).card.health"
                :height="getItem(index).card.height"
                :weight="getItem(index).card.weight"
                :images="getItem(index).card.images"
                :description="getItem(index).card.description"
                :term="getItem(index).card.term"
                :attack="getItem(index).card.attack"
                :colors="getItem(index).card.colors"
                :isFliped="true"
                :key="getItem(index).slot"
                :isInventoryItem="true"
                :index="getItem(index).slot"
                >
              </test_cards>
              <div class="overlay" @click="closeContextMenu" v-if="showMenu" />
              <ContextMenu 
              v-if="showMenu"
              :actions="contextMenuActions"
              @action-clicked="handleActionClick"
              :x="menuX"
              :y="menuY"
       />
            </div>
          </li>
        </ul>
      </div>
      <footer class='w-full items-center flex justify-between gap-24 p-4 buttons-footer-album'>
          <button class='flex items-center justify-center rounded-lg shadow-xl gap-2' @click="backPage">
            <i class='fas fa-chevron-left text-white text-2xl'></i>
            <a class='text-white'>{{ buttonText.pageNext }}</a>
          </button>
          <a class='text-white'>{{ buttonText.pageText }} {{ pagination }}</a>
          <button class='flex items-center justify-center rounded-lg shadow-xl gap-2' @click="nextPage">
            <a class='text-white'>{{ buttonText.pageBack }}</a>
            <i class='fas fa-chevron-right text-white text-2xl'></i>
          </button>
        </footer>
    </section>
  </script>

  <script>
    $(function () {
      var $style = $(".hover");
      $(document).on("mousemove", ".card-cont", function (e) {
        var $caseCont = $(this).find('.case-cont');
        var $card = $(this).find('.card');
        var l = e.offsetX;
        var t = e.offsetY;
        var h = $caseCont.height();
        var w = $caseCont.width();
        var lp = Math.abs(Math.floor(100 / w * l) - 100);
        var tp = Math.abs(Math.floor(100 / h * t) - 100);
        var lp2 = (50 - (Math.abs(Math.floor(100 / w * l) - 100)) / 10) + 5;
        var tp2 = (50 - (Math.abs(Math.floor(100 / h * t) - 100)) / 10) + 5;
        var ty = (tp - 50) / 2;
        var tx = ((lp - 50) * .1) * -1;
        var bg = `background-position: ${lp}% ${tp}%;`
        var bg2 = `background-position: ${lp2}% ${tp2}%;`
        var tf = `transform: rotateX(${ty}deg) rotateY(${tx}deg)`
        var style = `
                    .card.active:before { ${bg} }
                    .card.active:after { ${bg2} } 
                    .case-cont.active { ${tf} scale(1.2);  }
                `
        $(document).find('.active').removeClass('active');
        $card.addClass("active");
        $caseCont.addClass("active");
        $style.html(style);
      });
      $(document).on("mouseout", ".card-cont", function () {
        $(document).find('.active').removeClass('active');
      });
    })

  </script>
  <script type="text/javascript" src="js/main.js"></script>
  <script type="text/javascript" src="js/cards.js"></script>
  <script type="text/javascript" src="js/app.js"></script>
  <script type="text/javascript" src="js/inventory.js"></script>
  <script type="text/javascript" src="js/scratchCard.js"></script>

  <script type="text/javascript" src="js/contextMenu.js"></script>

  <!-- Main Entry -->
  <script type="text/javascript">
    new Vue({
      el: '#app',
      render: h => h(APP),
    });
  </script>

</body>

</html>